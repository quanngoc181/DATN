<th:block xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org">
	<div class="card">
		<div class="card-header">
			<h3 class="card-title">Sửa khuyến mãi</h3>
		</div>
		<div class="card-body">
			<form id="edit-discount-form">
				<div class="row">
					<div class="col-6">
						<input type="hidden" name="id" th:value=${discount.id}>
						<div class="form-group row">
							<label for="modal-description" class="col-sm-3 col-form-label">Mô tả</label>
							<div class="col-sm-9">
								<input type="text" th:value=${discount.description} class="form-control" name="description" id="modal-description">
							</div>
						</div>
						<div class="form-group row">
							<label for="modal-amount" class="col-sm-3 col-form-label">Số tiền</label>
							<div class="col-sm-9">
								<input type="number" th:value=${discount.amount} class="form-control" name="amount" id="modal-amount">
							</div>
						</div>
						<div class="form-group row">
							<label class="col-sm-3 col-form-label">Đơn vị</label>
							<div class="col-sm-9" style="padding-top: 8px;">
								<div class="icheck-primary d-inline mr-3">
									<input type="radio" id="modal-unit" name="unit" value="0" th:checked="${discount.unit == 0}">
									<label for="modal-unit">PERCENT</label>
								</div>
								<div class="icheck-primary d-inline">
									<input type="radio" id="modal-unit1" name="unit" value="1" th:checked="${discount.unit == 1}">
									<label for="modal-unit1">VND</label>
								</div>
							</div>
						</div>
						<div class="form-group row">
							<label for="modal-startDate" class="col-sm-3 col-form-label">Bắt đầu</label>
							<div class="col-sm-5">
								<input type="text" th:value="${discount.start}" class="form-control" name="startDate" id="modal-startDate" data-toggle="datepicker">
							</div>
							<div class="col-sm-4">
								<input type="text" th:value="${discount.startTime}" class="form-control" name="startTime" id="modal-startTime" data-inputmask-alias="datetime" data-inputmask-inputformat="HH:MM" data-mask>
							</div>
						</div>
						<div class="form-group row">
							<label for="modal-endDate" class="col-sm-3 col-form-label">Kết thúc</label>
							<div class="col-sm-5">
								<input type="text" th:value="${discount.end}" class="form-control" name="endDate" id="modal-endDate" data-toggle="datepicker">
							</div>
							<div class="col-sm-4">
								<input type="text" th:value="${discount.endTime}" class="form-control" name="endTime" id="modal-endTime" data-inputmask-alias="datetime" data-inputmask-inputformat="HH:MM" data-mask>
							</div>
						</div>
						<div class="row">
							<div class="col-9 offset-3">
								<button type="submit" class="btn btn-primary" id="edit-discount-submit">Lưu</button>
							</div>
						</div>
					</div>
					<div class="col-6">
						<div class="card card-outline card-primary" th:each="category: ${categories}" th:attr="data-id=${category.categoryId}">
							<div class="card-header">
								<div class="card-title">
									<div class="icheck-primary" style="margin: 0 !important;">
										<input type="checkbox" th:id="${category.categoryId}">
										<label th:for="${category.categoryId}" th:text="${category.categoryName + ' - ' + category.categoryCode}"></label>
									</div>
								</div>
								<div class="card-tools">
									<button type="button" class="btn btn-tool" data-card-widget="collapse" style="margin-right: 2px;">
										<i class="fas fa-minus"></i>
									</button>
								</div>
							</div>
							<div class="card-body">
								<div class="product-container" th:each="product: ${category.products}">
									<div class="icheck-primary">
										<input type="checkbox" name="products" th:id="${product.id}" th:value="${product.id}" th:checked="${#strings.contains(discount.productIds, product.id)}">
										<label th:for="${product.id}"></label>
									</div>
									<div class="product-preview" th:attr="data-id=${product.id}">
										<div class="image-container">
											<img th:src="${product.image}" alt="product" />
										</div>
										<div class="content">
											<h5 class="name" th:text="${product.name + ' - ' + product.productCode}"></h5>
											<p class="cost">
												<span th:text="${product.cost}"></span>đ
											</p>
											<p class="discountCost">
												<span th:text="${product.discountCost}"></span>đ
											</p>
										</div>
										<div class="options">
											<ul>
												<li th:each="discount: ${product.discounts}" th:text="${discount.description}"></li>
											</ul>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</form>
		</div>
	</div>
</th:block>